webpackJsonp([8],{"5zbT":function(t,e){},nyvT:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l={methods:{handleClick(t){let e=t.event_id;location.href="#/eventDetail/"+e},cancelOrder(t){let e=t.event_id;this.$http.get("/order/cancel/"+e).then(t=>{t.state?(this.$message({message:t.msg,type:"success"}),location.reload()):this.$message({message:t.msg,type:"fail"})})},clearFilter(){this.$refs.filterTable.clearFilter()}},data:()=>({tableData:[],user:{}}),created(){let t=localStorage.getItem("user");t?this.user=JSON.parse(t).user:(alert("You have not logged in yet, click OK to jump to the login page!"),location.href="/"),1===this.user.status&&this.$http.get("/order/get/customer").then(t=>{this.tableData=t.allOrders,console.log(this.tableData)}),2===this.user.status&&this.$http.get("/order/get/host").then(t=>{this.tableData=t.orders})}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-button",{staticStyle:{float:"left"},on:{click:t.clearFilter}},[t._v("reset all filters")]),t._v(" "),a("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"default-sort":{prop:"order_number",order:"increasing"},stripe:"",height:"650"}},[a("el-table-column",{attrs:{sortable:"",prop:"order_number",label:"Order Number",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"ticket_amount",label:"Ticket Amount",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"total_price",label:"Total Price",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"status",label:"Status",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row.status;return[0===l?a("span",[t._v("No Pay")]):1===l?a("span",[t._v("Paid")]):2===l?a("span",[t._v("Refund")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{sortable:"",label:"Operate",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.handleClick(e.row)}}},[t._v("View")]),t._v(" "),1===e.row.status&&1===t.user.status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.cancelOrder(e.row)}}},[t._v("Cancel")]):t._e()]}}])})],1)],1)},staticRenderFns:[]};var s=a("VU/8")(l,r,!1,function(t){a("5zbT")},"data-v-4793ef37",null);e.default=s.exports}});
//# sourceMappingURL=8.99b70bcf25baab586d9b.js.map