webpackJsonp([8],{KCpD:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={data:()=>({form:{},options:[{value:"Live Concerts",label:"Live Concerts"},{value:"Movies",label:"Movies"},{value:"Drama",label:"Drama"},{value:"Sport",label:"Sport"}],imageUrl:"",fileBase64:""}),methods:{edit(){this.form.rate=0,this.$http.post("/event/create",this.form).then(e=>{e.state?(this.form=e.event,this.$message({message:e.msg,type:"success"}),location.href="#/eventMgm"):(this.$message({message:e.msg,type:"fail"}),this.user={})})},getBase64:e=>(console.log(e),new Promise((t,a)=>{let l=new FileReader,s="";l.readAsDataURL(e),l.onload=function(){s=l.result},l.onerror=function(e){a(e)},l.onloadend=function(){t(s)}})),httpRequest(e){console.log(e);const t="image/jpeg"===e.file.type,a="image/png"===e.file.type,l="image/gif"===e.file.type,s=e.file.size/1024/1024<2;t||a||l?s?(this.getBase64(e.file).then(e=>{this.form.cover_image=e.split(",")[1],console.log(e.split(",")[1])}),this.imageUrl=URL.createObjectURL(e.file),this.$message.success("File upload successfully!")):this.$message.error("The size of profile picture must be less than 2MB!"):this.$message.error("The format of profile picture must be JPG or PNG or GIF!")}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-col",{attrs:{span:12}},[a("el-form",{ref:"form",attrs:{"label-position":"left",model:e.form,"label-width":"120px"}},[a("el-form-item",{staticClass:"labels",attrs:{label:"Event name:"}},[a("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{staticClass:"labels",staticStyle:{"text-align":"left"},attrs:{label:"Event type:"}},[a("el-select",{staticStyle:{margin:"0"},attrs:{placeholder:"Event type"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{staticClass:"labels",staticStyle:{"text-align":"left"},attrs:{label:"Tickets:"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1,max:1e4},model:{value:e.form.available_tickets,callback:function(t){e.$set(e.form,"available_tickets",t)},expression:"form.available_tickets"}})],1),e._v(" "),a("el-form-item",{staticClass:"labels",attrs:{label:"Location:"}},[a("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",{staticClass:"labels",attrs:{label:"Date:"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"Select Date"},model:{value:e.form.start_date,callback:function(t){e.$set(e.form,"start_date",t)},expression:"form.start_date"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"labels",attrs:{label:"Time:"}},[a("el-col",{attrs:{span:11}},[a("el-time-picker",{attrs:{"picker-options":{selectableRange:"0:0:00 - 23:59:00"},placeholder:"Select Start Time"},model:{value:e.form.start_time,callback:function(t){e.$set(e.form,"start_time",t)},expression:"form.start_time"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-time-picker",{attrs:{"picker-options":{selectableRange:"0:0:00 - 23:59:00"},placeholder:"Select End Time"},model:{value:e.form.end_time,callback:function(t){e.$set(e.form,"end_time",t)},expression:"form.end_time"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"labels",attrs:{label:"Price:"}},[a("el-input",{model:{value:e.form.ticket_price,callback:function(t){e.$set(e.form,"ticket_price",t)},expression:"form.ticket_price"}})],1),e._v(" "),a("el-form-item",{staticClass:"labels",attrs:{label:"Description:"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),a("el-row",{staticClass:"allWidth"},[a("el-col",{attrs:{span:8}},[a("button",{staticClass:"push_button blue",on:{click:e.edit}},[e._v("Save")])]),e._v(" "),a("el-col",{staticClass:"abHeight",staticStyle:{"text-align":"right"},attrs:{span:16}},[a("router-link",{attrs:{to:"/eventMgm"}},[a("button",{staticClass:"push_button red"},[e._v("Cancel")])])],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("h1",[e._v("upload img")]),e._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"#","show-file-list":!1,"http-request":e.httpRequest}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)},staticRenderFns:[]};var i=a("VU/8")(l,s,!1,function(e){a("xY3t")},"data-v-68f6766b",null);t.default=i.exports},xY3t:function(e,t){}});
//# sourceMappingURL=8.a8bb59a77cca5ed2a8ed.js.map