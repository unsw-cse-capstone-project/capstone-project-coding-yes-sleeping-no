webpackJsonp([10],{Wp4w:function(t,e){},mrBO:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={methods:{handleClick(t){console.log(t);let e=t.id;location.href="#/eventDetail/"+e},clearFilter(){this.$refs.filterTable.clearFilter()},filterHandler:(t,e,l)=>e[l.property]===t,getDate(t){let e;return null!==t&&void 0!==t&&(e=t.split("T")[0]),e},getTime(t){let e;return null!==t&&void 0!==t&&(e=t.split(/[T.]/)[1]),e},del_event(t){let e=t.id;this.$http.get("/event/delete/"+e).then(t=>{t.state?(this.$message({message:t.hint,type:"success"}),location.href="#/eventMgm"):this.$message({message:t.hint,type:"fail"})})}},data:()=>({tableData:[],user:{}}),created(){let t=localStorage.getItem("user");t?this.user=JSON.parse(t).user:(alert("You have not logged in yet, click OK to jump to the login page!"),location.href="/"),this.$http.get("/event/findByHost",this.user).then(t=>{this.tableData=t.event;for(let t=0;t<this.tableData.length;t++)this.tableData[t].start_date=this.getDate(this.tableData[t].start_date),this.tableData[t].start_time=this.getTime(this.tableData[t].start_time);console.log(this.tableData)})}},r={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("el-button",{staticStyle:{float:"left"},on:{click:t.clearFilter}},[t._v("reset all filters")]),t._v(" "),l("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"default-sort":{prop:"Date",order:"increasing"},stripe:""}},[l("el-table-column",{attrs:{fixed:"",sortable:"",prop:"title",label:"Event name",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{fixed:"",sortable:"",prop:"type",label:"Type",width:"120","column-key":"type",filters:[{text:"Live Concerts",value:"Live Concerts"},{text:"Movies",value:"Movies"},{text:"Drama",value:"Drama"},{text:"Sports",value:"Sports"}],"filter-method":t.filterHandler}}),t._v(" "),l("el-table-column",{attrs:{fixed:"",sortable:"",prop:"address",label:"Location",width:"140"}}),t._v(" "),l("el-table-column",{attrs:{fixed:"",sortable:"",prop:"start_date",label:"Date",width:"110"}}),t._v(" "),l("el-table-column",{attrs:{fixed:"",sortable:"",prop:"start_time",label:"Time",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{fixed:"",sortable:"",prop:"ticket_price",label:"Price",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{fixed:"",sortable:"",prop:"available_tickets",label:"Inventory",width:"120"}}),t._v(" "),l("el-table-column",{attrs:{fixed:"right",label:"Operate",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){t.handleClick(e.row)}}},[t._v("View")]),t._v(" "),l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){t.del_event(e.row)}}},[t._v("Delete")])]}}])})],1),t._v(" "),l("router-link",{attrs:{to:"/addEvent"}},[l("el-button",{staticStyle:{"margin-top":"20px",float:"left"},attrs:{type:"primary",icon:"el-icon-circle-plus-outline"}},[t._v("Add new event")])],1)],1)},staticRenderFns:[]};var i=l("VU/8")(a,r,!1,function(t){l("Wp4w")},"data-v-211eb6db",null);e.default=i.exports}});
//# sourceMappingURL=10.7a749a12e5def6d1762f.js.map