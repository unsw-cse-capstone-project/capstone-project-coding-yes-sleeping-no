webpackJsonp([5],{C7ZX:function(e,t){},mrBO:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={methods:{handleClick(e){console.log(e);let t=e.id;location.href="#/eventDetail/"+t},clearFilter(){this.$refs.filterTable.clearFilter()},filterHandler:(e,t,l)=>t[l.property]===e,del_event(e){let t=e.id;this.$http.get("/event/delete/"+t).then(e=>{e.state?(this.$message({message:e.msg,type:"success"}),location.href="#/eventMgm"):this.$message({message:e.msg,type:"fail"})})}},data:()=>({tableData:[],user:{}}),created(){let e=localStorage.getItem("user");e?this.user=JSON.parse(e).user:(alert("You have not logged in yet, click OK to jump to the login page!"),location.href="/"),this.$http.get("/event/findByHost",this.user).then(e=>{this.tableData=e.event})}},r={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-button",{staticStyle:{float:"left"},on:{click:e.clearFilter}},[e._v("reset all filters")]),e._v(" "),l("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"default-sort":{prop:"Date",order:"increasing"},stripe:"",height:"650"}},[l("el-table-column",{attrs:{fixed:"",sortable:"",prop:"title",label:"Event name",width:"150"}}),e._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"type",label:"Type",width:"120","column-key":"type",filters:[{text:"Live Concerts",value:"Live Concerts"},{text:"Movies",value:"Movies"},{text:"Drama",value:"Drama"},{text:"Sports",value:"Sports"}],"filter-method":e.filterHandler}}),e._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"address",label:"Location",width:"200"}}),e._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"start_date",label:"Date",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"start_time",label:"Time",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"ticket_price",label:"Price",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"available_tickets",label:"Inventory",width:"110"}}),e._v(" "),l("el-table-column",{attrs:{fixed:"right",label:"Operate",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){e.handleClick(t.row)}}},[e._v("View")]),e._v(" "),l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){e.del_event(t.row)}}},[e._v("Delete")])]}}])})],1),e._v(" "),l("router-link",{attrs:{to:"/addEvent"}},[l("el-button",{staticStyle:{"margin-top":"20px",float:"left"},attrs:{type:"primary",icon:"el-icon-circle-plus-outline"}},[e._v("Add new event")])],1)],1)},staticRenderFns:[]};var i=l("VU/8")(a,r,!1,function(e){l("C7ZX")},"data-v-88c7fae0",null);t.default=i.exports}});
//# sourceMappingURL=5.672622d1b3b54bffe644.js.map